"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[893],{6893:function(t,r,s){s.r(r),s.d(r,{default:function(){return p}});var e=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"mx-auto",staticStyle:{width:"400px"}},[t._m(0),s("h3",{staticClass:"text-center font-weight-bold"},[t._v("後台登入")]),s("form",{on:{submit:function(r){return r.preventDefault(),r.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"form-wrapper mt-5",class:{wrong:t.showError},attrs:{height:"54px"}},[s("label",{attrs:{for:"account"}},[t._v("帳號")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form",class:{wrong:t.showError},attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(r){r.target.composing||(t.account=r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}]},[t._v(t._s(t.errorMessage)+" ")])]),s("div",{staticClass:"form-wrapper mt-4",class:{wrong:t.showError},attrs:{height:"54px"}},[s("label",{attrs:{for:"password"}},[t._v("密碼")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form",class:{wrong:t.showError},attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(r){r.target.composing||(t.password=r.target.value)}}})])]),s("div",{staticClass:"mt-4"},[s("button",{staticClass:"btn btn-info btn-singin",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 登入 ")])])]),s("div",{staticClass:"d-flex mt-4 justify-content-end"},[s("router-link",{staticClass:"mx-1",attrs:{to:"/login"}},[t._v(" 前台登入 ")])],1)])},a=[function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"mx-auto",staticStyle:{width:"40px"}},[s("img",{staticClass:"mx-auto mt-5",attrs:{width:"40px",src:"https://i.postimg.cc/Qx2dm12F/Pclogo.png",alt:""}})])}],o=s(6198),n=(s(5666),s(6047)),i={data:function(){return{account:"",password:"",isProcessing:!1,showError:!1,errorMessage:""}},methods:{handleSubmit:function(){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function r(){var s,e;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.account&&t.password){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n.Z.adminSignIn({account:t.account,password:t.password});case 5:if(s=r.sent,e=s.data,"error"!==e.status){r.next=13;break}return t.showError=!0,t.errorMessage=e.message,t.password="",t.isProcessing=!1,r.abrupt("return");case 13:localStorage.setItem("token",e.token),t.$router.push("/admin/tweet"),r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](0),console.log("error",r.t0);case 20:case"end":return r.stop()}}),r,null,[[0,17]])})))()}}},c=i,u=s(1001),l=(0,u.Z)(c,e,a,!1,null,null,null),p=l.exports}}]);
//# sourceMappingURL=893-legacy.b1b37eb0.js.map