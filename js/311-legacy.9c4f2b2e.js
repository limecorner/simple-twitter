"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[311],{7927:function(e,r,a){a.r(r),a.d(r,{default:function(){return v}});var s=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"user-page d-flex justify-content-between"},[a("NavBar",{staticClass:"sidebar"}),a("div",{staticClass:"setting-area"},[a("div",[e._v("帳戶設定")]),a("form",{on:{submit:function(r){return r.preventDefault(),r.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[e._v("帳號")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account,expression:"user.account"}],staticClass:"form",class:{wrong:e.accountError},attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:e.user.account},on:{input:function(r){r.target.composing||e.$set(e.user,"account",r.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.accountError,expression:"accountError"}]},[e._v("帳號 已重複註冊！")])]),a("div",{staticClass:"form-wrapper mt-2",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[e._v("名稱")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form",attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入使用者名稱",required:"",autofocus:""},domProps:{value:e.user.name},on:{input:function(r){r.target.composing||e.$set(e.user,"name",r.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.user.name.length>50,expression:"user.name.length > 50"}]},[e._v("字數超出上限 50字！")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[e._v("Email")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form",class:{wrong:e.emailError},attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",required:"",autofocus:""},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.emailError,expression:"emailError"}]},[e._v("email 已重複註冊！")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"password"}},[e._v("密碼")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form",class:{wrong:e.passwordError},attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.passwordError,expression:"passwordError"}]},[e._v("密碼與確認密碼不符。")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"checkPassword"}},[e._v("密碼確認")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkPassword,expression:"checkPassword"}],staticClass:"form",class:{wrong:e.passwordError},attrs:{id:"checkPassword",name:"checkPassword",type:"password",placeholder:"請再次輸入密碼",required:""},domProps:{value:e.checkPassword},on:{input:function(r){r.target.composing||(e.checkPassword=r.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.passwordError,expression:"passwordError"}]},[e._v("密碼與確認密碼不符。")])]),a("div",{staticClass:"mt-4"},[a("button",{staticClass:"btn btn-info btn-w88",attrs:{disabled:e.isProcessing,type:"submit"},on:{click:function(r){return r.preventDefault(),r.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[e._v(" 儲存 ")])])])]),a("div",{staticClass:"sidebar"})],1)},t=[],o=a(3019),n=a(6198),i=(a(8309),a(5666),a(9258)),c=a(6017),u=a(1926),l={components:{NavBar:i.Z},data:function(){return{user:{id:"",account:"",name:"",email:""},password:"",checkPassword:"",isProcessing:!1,accountError:!1,emailError:!1,passwordError:!1}},methods:{getAccountInfo:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.Z.getAccountInfo();case 3:a=r.sent,e.user=(0,o.Z)({},a.data.user),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},handleSubmit:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var a,s,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!(e.user.name.length>50)){r.next=3;break}return r.abrupt("return");case 3:return e.accountError=!1,e.emailError=!1,e.passwordError=!1,r.next=8,c.Z.putAccountInfo({data:{account:e.user.account,name:e.user.name,email:e.user.email,password:e.password,checkPassword:e.checkPassword}});case 8:a=r.sent,s=a.data,console.log(s),"error"===s.status?(t=s.message,"此帳號已經存在。"===t?e.accountError=!0:"此email已經存在。"===t?e.emailError=!0:"密碼與確認密碼不符。"===t&&(e.passwordError=!0)):"成功修改個人資料"===s.message&&u.F.fire({icon:"success",title:"成功修改個人資料"}),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](0),console.log(r.t0),u.F.fire({icon:"error",title:r.t0});case 18:case"end":return r.stop()}}),r,null,[[0,14]])})))()}},created:function(){this.getAccountInfo()}},m=l,p=a(1001),d=(0,p.Z)(m,s,t,!1,null,"5bc1a93a",null),v=d.exports}}]);
//# sourceMappingURL=311-legacy.9c4f2b2e.js.map