"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[469],{5469:function(s,e,a){a.r(e),a.d(e,{default:function(){return d}});var r=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"user-page d-flex"},[a("NavBar"),a("div",{staticClass:"user-section"},[s._m(0),a("div",{staticClass:"content pt-4"},[a("form",{staticClass:"pl-4 pr-4",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),s.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[s._v("帳號")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.account,expression:"user.account"}],staticClass:"form",class:{wrong:s.accountError},attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:s.user.account},on:{input:function(e){e.target.composing||s.$set(s.user,"account",e.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.accountError,expression:"accountError"}]},[s._v("帳號 已重複註冊！")])]),a("div",{staticClass:"form-wrapper mt-2",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[s._v("名稱")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.name,expression:"user.name"}],staticClass:"form",class:{wrong:s.user.name.length>50},attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入使用者名稱",required:"",autofocus:""},domProps:{value:s.user.name},on:{input:function(e){e.target.composing||s.$set(s.user,"name",e.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.user.name.length>50,expression:"user.name.length > 50"}]},[s._v("字數超出上限 50字！")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"account"}},[s._v("Email")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.email,expression:"user.email"}],staticClass:"form",class:{wrong:s.emailError},attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",required:"",autofocus:""},domProps:{value:s.user.email},on:{input:function(e){e.target.composing||s.$set(s.user,"email",e.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.emailError,expression:"emailError"}]},[s._v("email 已重複註冊！")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"password"}},[s._v("密碼")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"form",class:{wrong:s.passwordError},attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.passwordError,expression:"passwordError"}]},[s._v("密碼與確認密碼不符。")])]),a("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[a("label",{attrs:{for:"checkPassword"}},[s._v("密碼確認")]),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:s.checkPassword,expression:"checkPassword"}],staticClass:"form",class:{wrong:s.passwordError},attrs:{id:"checkPassword",name:"checkPassword",type:"password",placeholder:"請再次輸入密碼",required:""},domProps:{value:s.checkPassword},on:{input:function(e){e.target.composing||(s.checkPassword=e.target.value)}}})])]),a("div",{staticClass:"error-message"},[a("span",{directives:[{name:"show",rawName:"v-show",value:s.passwordError,expression:"passwordError"}]},[s._v("密碼與確認密碼不符。")])]),a("div",{staticClass:"mt-4 d-flex justify-content-end"},[a("button",{staticClass:"btn btn-info btn-w88",attrs:{disabled:s.isProcessing,type:"submit"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),s.handleSubmit.apply(null,arguments)}}},[s._v(" 儲存 ")])])])])]),a("div",{staticClass:"sidebar"})],1)},t=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"title"},[a("h4",{staticClass:"ml-4 pt-4"},[s._v("帳戶設定")])])}],o=a(4977),i=a(6017),n=a(1926),c={components:{NavBar:o.Z},data(){return{user:{id:"",account:"",name:"",email:""},password:"",checkPassword:"",isProcessing:!1,accountError:!1,emailError:!1,passwordError:!1}},methods:{async getAccountInfo(){try{const s=await i.Z.getAccountInfo();this.user={...s.data.user}}catch(s){console.log(s)}},async handleSubmit(){try{if(this.user.name.length>50)return;this.accountError=!1,this.emailError=!1,this.passwordError=!1;const{data:s}=await i.Z.putAccountInfo({data:{account:this.user.account,name:this.user.name,email:this.user.email,password:this.password,checkPassword:this.checkPassword}});if("error"===s.status){const e=s.message;"此帳號已經存在。"===e?this.accountError=!0:"此email已經存在。"===e?this.emailError=!0:"密碼與確認密碼不符。"===e&&(this.passwordError=!0)}else"成功修改個人資料"===s.message&&n.F.fire({icon:"success",title:"成功修改個人資料"})}catch(s){console.log(s),n.F.fire({icon:"error",title:s})}}},created(){this.getAccountInfo()}},l=c,u=a(1001),m=(0,u.Z)(l,r,t,!1,null,"05e7e982",null),d=m.exports}}]);
//# sourceMappingURL=469.0e924c41.js.map