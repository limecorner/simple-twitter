"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[607],{9607:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mx-auto",staticStyle:{width:"400px"}},[t._m(0),e("h3",{staticClass:"text-center font-weight-bold"},[t._v("後台登入")]),e("form",{on:{submit:function(s){return s.preventDefault(),s.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-wrapper mt-5",class:{wrong:t.error},attrs:{height:"54px"}},[e("label",{attrs:{for:"account"}},[t._v("帳號")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"form",attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:t.account},on:{input:function(s){s.target.composing||(t.account=s.target.value)}}})])]),e("div",{staticClass:"errorMesssage"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}]},[t._v(t._s(t.errorMesssage))])]),e("div",{staticClass:"form-wrapper mt-4",class:{wrong:t.error},attrs:{height:"54px"}},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form",attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",autocomplete:"current-password",required:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),e("div",{staticClass:"mt-4"},[e("button",{staticClass:"btn btn-info btn-singin",attrs:{disabled:t.isProcessing,type:"submit"}},[t._v(" 登入 ")])])]),e("div",{staticClass:"d-flex mt-4 justify-content-end"},[e("router-link",{staticClass:"mx-1",attrs:{to:"/login"}},[t._v(" 前台登入 ")])],1)])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mx-auto",staticStyle:{width:"40px"}},[e("img",{staticClass:"mx-auto mt-5",attrs:{width:"40px",src:"https://i.postimg.cc/Qx2dm12F/Pclogo.png",alt:""}})])}],o=(e(1703),e(6047)),i={data(){return{account:"",password:"",isProcessing:!1,error:!1,errorMesssage:"帳號不存在"}},methods:{async handleSubmit(){try{if(!this.account||!this.password)return;const t=await o.Z.adminSignIn({account:this.account,password:this.password}),{data:s}=t;if(console.log(s),"error"===s.status)throw new Error(s.message);localStorage.setItem("token",s.token),this.$router.push("/admin/tweet")}catch(t){this.password="",this.isProcessing=!1,console.log("error",t)}}}},n=i,c=e(1001),l=(0,c.Z)(n,a,r,!1,null,null,null),u=l.exports}}]);
//# sourceMappingURL=607.a1e72b2c.js.map