"use strict";(self["webpackChunksimple_twitter"]=self["webpackChunksimple_twitter"]||[]).push([[469],{5469:function(e,r,s){s.r(r),s.d(r,{default:function(){return v}});var a=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"user-page d-flex"},[s("NavBar"),s("div",{staticClass:"user-section"},[e._m(0),s("div",{staticClass:"content pt-4"},[s("form",{staticClass:"pl-4 pr-4",on:{submit:function(r){return r.preventDefault(),r.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[s("label",{attrs:{for:"account"}},[e._v("帳號")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account,expression:"user.account"}],staticClass:"form",class:{wrong:e.accountError},attrs:{id:"account",name:"account",type:"text",placeholder:"請輸入帳號",required:"",autofocus:""},domProps:{value:e.user.account},on:{input:function(r){r.target.composing||e.$set(e.user,"account",r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.accountError,expression:"accountError"}]},[e._v("帳號 已重複註冊！")])]),s("div",{staticClass:"form-wrapper mt-2",attrs:{height:"54px"}},[s("label",{attrs:{for:"account"}},[e._v("名稱")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form",class:{wrong:e.user.name.length>50},attrs:{id:"name",name:"name",type:"text",placeholder:"請輸入使用者名稱",required:"",autofocus:""},domProps:{value:e.user.name},on:{input:function(r){r.target.composing||e.$set(e.user,"name",r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.user.name.length>50,expression:"user.name.length > 50"}]},[e._v("字數超出上限 50字！")])]),s("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[s("label",{attrs:{for:"account"}},[e._v("Email")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form",class:{wrong:e.emailError},attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入 Email",required:"",autofocus:""},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.emailError,expression:"emailError"}]},[e._v("email 已重複註冊！")])]),s("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[s("label",{attrs:{for:"password"}},[e._v("密碼")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form",class:{wrong:e.passwordError},attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.passwordError,expression:"passwordError"}]},[e._v("密碼與確認密碼不符。")])]),s("div",{staticClass:"form-wrapper mt-4",attrs:{height:"54px"}},[s("label",{attrs:{for:"checkPassword"}},[e._v("密碼確認")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkPassword,expression:"checkPassword"}],staticClass:"form",class:{wrong:e.passwordError},attrs:{id:"checkPassword",name:"checkPassword",type:"password",placeholder:"請再次輸入密碼",required:""},domProps:{value:e.checkPassword},on:{input:function(r){r.target.composing||(e.checkPassword=r.target.value)}}})])]),s("div",{staticClass:"error-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.passwordError,expression:"passwordError"}]},[e._v("密碼與確認密碼不符。")])]),s("div",{staticClass:"mt-4 d-flex justify-content-end"},[s("button",{staticClass:"btn btn-info btn-w88",attrs:{disabled:e.isProcessing,type:"submit"},on:{click:function(r){return r.preventDefault(),r.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[e._v(" 儲存 ")])])])])]),s("div",{staticClass:"sidebar"})],1)},t=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"title"},[s("h4",{staticClass:"ml-4 pt-4"},[e._v("帳戶設定")])])}],o=s(3019),n=s(6198),i=(s(8309),s(5666),s(4977)),c=s(6017),u=s(1926),l={components:{NavBar:i.Z},data:function(){return{user:{id:"",account:"",name:"",email:""},password:"",checkPassword:"",isProcessing:!1,accountError:!1,emailError:!1,passwordError:!1}},methods:{getAccountInfo:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.Z.getAccountInfo();case 3:s=r.sent,e.user=(0,o.Z)({},s.data.user),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},handleSubmit:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function r(){var s,a,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!(e.user.name.length>50)){r.next=3;break}return r.abrupt("return");case 3:return e.accountError=!1,e.emailError=!1,e.passwordError=!1,r.next=8,c.Z.putAccountInfo({data:{account:e.user.account,name:e.user.name,email:e.user.email,password:e.password,checkPassword:e.checkPassword}});case 8:s=r.sent,a=s.data,"error"===a.status?(t=a.message,"此帳號已經存在。"===t?e.accountError=!0:"此email已經存在。"===t?e.emailError=!0:"密碼與確認密碼不符。"===t&&(e.passwordError=!0)):"成功修改個人資料"===a.message&&u.F.fire({icon:"success",title:"成功修改個人資料"}),r.next=17;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0),u.F.fire({icon:"error",title:r.t0});case 17:case"end":return r.stop()}}),r,null,[[0,13]])})))()}},created:function(){this.getAccountInfo()}},m=l,p=s(1001),d=(0,p.Z)(m,a,t,!1,null,"05e7e982",null),v=d.exports}}]);
//# sourceMappingURL=469-legacy.5464b0dd.js.map